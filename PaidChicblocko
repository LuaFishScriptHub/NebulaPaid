local Rayfield = loadstring(game:HttpGet('https://sirius.menu/rayfield'))()

local Window = Rayfield:CreateWindow({
   Name = "Nebula Premium",
   Icon = 0,
   LoadingTitle = "Loading..",
   LoadingSubtitle = "by Nebula scripters",
   ShowText = "Rayfield",
   Theme = "Default",
   ToggleUIKeybind = "K",
   DisableRayfieldPrompts = false,
   DisableBuildWarnings = false,
   ConfigurationSaving = {
      Enabled = true,
      FolderName = nil,
      FileName = "Big Hub"
   },
   Discord = {
      Enabled = false,
      Invite = "noinvitelink",
      RememberJoins = true
   },
   KeySystem = true,
   KeySettings = {
      Title = "Chicblocko Premium Key System",
      Subtitle = "Paid Chicblocko",
      Note = "Get Your WhiteList Key by opening a ticket !",
      FileName = "Key",
      SaveKey = true,
      GrabKeyFromSite = false,
      Key = {"Premium"}
   }
})

local CombatTab = Window:CreateTab("CombatðŸ’¢", nil) -- Title, Image

local aimlockEnabled = false
local aimlockConnection

CombatTab:CreateToggle({
   Name = "Aimlock",
   CurrentValue = false,
   Callback = function(v)
      aimlockEnabled = v
      if aimlockEnabled then
         local Players = game:GetService("Players")
         local LocalPlayer = Players.LocalPlayer
         local Camera = workspace.CurrentCamera

         local function getClosestToCursor()
            local closestPlayer = nil
            local shortestDistance = math.huge
            for _, player in pairs(Players:GetPlayers()) do
               if player ~= LocalPlayer and player.Character and player.Character:FindFirstChild("HumanoidRootPart") then
                  local pos, onScreen = Camera:WorldToViewportPoint(player.Character.HumanoidRootPart.Position)
                  if onScreen then
                     local mousePos = Vector2.new(Camera.ViewportSize.X/2, Camera.ViewportSize.Y/2)
                     local dist = (Vector2.new(pos.X, pos.Y) - mousePos).Magnitude
                     if dist < shortestDistance then
                        shortestDistance = dist
                        closestPlayer = player
                     end
                  end
               end
            end
            return closestPlayer
         end

         aimlockConnection = game:GetService("RunService").RenderStepped:Connect(function()
            if aimlockEnabled then
               local target = getClosestToCursor()
               if target and target.Character and target.Character:FindFirstChild("HumanoidRootPart") then
                  Camera.CFrame = CFrame.new(Camera.CFrame.Position, target.Character.HumanoidRootPart.Position)
               end
            end
         end)
      else
         if aimlockConnection then
            aimlockConnection:Disconnect()
            aimlockConnection = nil
         end
      end
   end,
})

local espEnabled = false

CombatTab:CreateToggle({
   Name = "ESP",
   CurrentValue = false,
   Callback = function(v)
      espEnabled = v
      local Players = game:GetService("Players")

      local function setupESP(character, player)
         if character:FindFirstChild("ESP_Highlight") then
            character.ESP_Highlight:Destroy()
         end
         if espEnabled then
            local highlight = Instance.new("Highlight")
            highlight.Name = "ESP_Highlight"
            highlight.Adornee = character
            highlight.FillColor = Color3.fromRGB(0, 255, 0)
            highlight.OutlineColor = Color3.fromRGB(0, 150, 0)
            highlight.Parent = character

            local billboard = Instance.new("BillboardGui")
            billboard.Name = "NameTag"
            billboard.Size = UDim2.new(0, 100, 0, 30)
            billboard.Adornee = character:WaitForChild("Head")
            billboard.AlwaysOnTop = true
            billboard.Parent = character

            local text = Instance.new("TextLabel")
            text.Size = UDim2.new(1, 0, 1, 0)
            text.BackgroundTransparency = 1
            text.TextColor3 = Color3.new(1, 1, 1)
            text.TextStrokeTransparency = 0
            text.Font = Enum.Font.SourceSansBold
            text.TextScaled = true
            text.Text = player.Name
            text.Parent = billboard
         end
      end

      local function onCharacterAdded(character, player)
         if espEnabled then
            setupESP(character, player)
         else
            if character:FindFirstChild("ESP_Highlight") then
               character.ESP_Highlight:Destroy()
            end
            if character:FindFirstChild("NameTag") then
               character.NameTag:Destroy()
            end
         end
      end

      for _, player in ipairs(Players:GetPlayers()) do
         player.CharacterAdded:Connect(function(character)
            onCharacterAdded(character, player)
         end)
         if player.Character then
            onCharacterAdded(player.Character, player)
         end
      end

      Players.PlayerAdded:Connect(function(player)
         player.CharacterAdded:Connect(function(character)
            onCharacterAdded(character, player)
         end)
      end)
   end,
})

CombatTab:CreateButton({
   Name = "Allow jump",
   Callback = function()
      local UserInputService = game:GetService("UserInputService")
      local player = game:GetService("Players").LocalPlayer
      UserInputService.JumpRequest:Connect(function()
         if player.Character and player.Character:FindFirstChildOfClass("Humanoid") then
            player.Character:FindFirstChildOfClass("Humanoid"):ChangeState(Enum.HumanoidStateType.Jumping)
         end
      end)
   end,
})

CombatTab:CreateSlider({
   Name = "Jump Power",
   Range = {0, 100},
   Increment = 1,
   Suffix = "Power",
   CurrentValue = 16,
   Flag = "Slider2",
   Callback = function(Value)
      game.Players.LocalPlayer.Character.Humanoid.JumpPower = Value
   end,
})

local MiscTab = Window:CreateTab("Miscâš™ï¸", nil) -- Title, Image

MiscTab:CreateButton({
   Name = "Instant proximity prompts",
   Callback = function()
      local function makeInstant(prompt)
         if prompt:IsA("ProximityPrompt") then
            prompt.HoldDuration = 0
         end
      end
      for _, obj in ipairs(workspace:GetDescendants()) do
         makeInstant(obj)
      end
      workspace.DescendantAdded:Connect(makeInstant)
   end,
})

local Button = MiscTab:CreateButton({
   Name = "Iy",
   Callback = function()
loadstring(game:HttpGet('https://raw.githubusercontent.com/EdgeIY/infiniteyield/master/source'))()
   end,
})

local TpTab = Window:CreateTab("TeleportsðŸ›¸", nil) -- Title, Image

TpTab:CreateButton({
   Name = "Tp to apt",
   Callback = function()
      local player = game:GetService("Players").LocalPlayer
      local char = player.Character or player.CharacterAdded:Wait()
      local hrp = char:WaitForChild("HumanoidRootPart")
      hrp.CFrame = CFrame.new(-122, 3, -663)
   end,
})

TpTab:CreateButton({
   Name = "Tp cookers",
   Callback = function()
      local player = game:GetService("Players").LocalPlayer
      local char = player.Character or player.CharacterAdded:Wait()
      local hrp = char:WaitForChild("HumanoidRootPart")
      hrp.CFrame = CFrame.new(-331, 3, -430)
   end,
})

TpTab:CreateButton({
   Name = "Tp mm",
   Callback = function()
      local player = game:GetService("Players").LocalPlayer
      local char = player.Character or player.CharacterAdded:Wait()
      local hrp = char:WaitForChild("HumanoidRootPart")
      hrp.CFrame = CFrame.new(-443, 3, -772)
   end,
})

local PlayerTab = Window:CreateTab("PlayerðŸ™", nil) -- Title, Image

local Slider = PlayerTab:CreateSlider({
   Name = "WalkSpeed",
   Range = {0, 30},
   Increment = 1,
   Suffix = "Speed",
   CurrentValue = 16,
   Flag = "Slider1", -- A flag is the identifier for the configuration file, make sure every element has a different flag if you're using configuration saving to ensure no overlaps
   Callback = function(Value)
      game.Players.LocalPlayer.Character.Humanoid.WalkSpeed = Value
   end,
})

local Button = PlayerTab:CreateButton({
   Name = "NoClip Ctrl+k toggle",
   Callback = function()
--[[
	WARNING: Heads up! This script has not been verified by ScriptBlox. Use at your own risk!
]]
local UserInputService = game:GetService("UserInputService")
local RunService = game:GetService("RunService")
local player = game.Players.LocalPlayer
local starterGui = game:GetService("StarterGui")

local isActive = false
local isScriptDisabled = false
local canToggle = true

starterGui:SetCore("SendNotification", {
    Title = "Phase",
    Text = "Controls:\n- Ctrl + K: Toggle\n- Alt + K: Fully Stop",
    Duration = 5
})

local function getCharacter()
    return player.Character or player.CharacterAdded:Wait()
end

local function showNotification(message)
    starterGui:SetCore("SendNotification", {
        Title = "Script Status",
        Text = "Phase " .. message,
        Duration = 2
    })
end

local function toggleNoClip()
    if not canToggle or isScriptDisabled then return end
    canToggle = false

    isActive = not isActive
    showNotification(isActive and "Enabled!" or "Disabled!")

    local character = getCharacter()
    local humanoidRootPart = character:WaitForChild("HumanoidRootPart")

    if isActive then
        -- Kiá»ƒm tra náº¿u nhÃ¢n váº­t cháº¿t, dá»«ng script
        local humanoid = character:WaitForChild("Humanoid")
        humanoid.Died:Connect(function()
            isActive = false
            showNotification("Disabled due to death!")
        end)

        RunService.Stepped:Connect(function()
            if isActive and character and humanoidRootPart then
                for _, part in pairs(character:GetChildren()) do
                    if part:IsA("BasePart") then
                        part.CanCollide = false
                    end
                end
            end
        end)
    end

    task.wait(0.5)
    canToggle = true
end

local function disableScript()
    if isScriptDisabled then return end
    isScriptDisabled = true
    isActive = false

    local character = getCharacter()
    for _, part in pairs(character:GetChildren()) do
        if part:IsA("BasePart") then
            part.CanCollide = true
        end
    end

    starterGui:SetCore("SendNotification", {
        Title = "Script Stopped",
        Text = "Phase fully closed successfully!",
        Duration = 2
    })
end

UserInputService.InputBegan:Connect(function(input, gameProcessed)
    if gameProcessed then return end

    if input.KeyCode == Enum.KeyCode.K and UserInputService:IsKeyDown(Enum.KeyCode.LeftControl) then
        toggleNoClip()
    elseif input.KeyCode == Enum.KeyCode.K and UserInputService:IsKeyDown(Enum.KeyCode.LeftAlt) then
        disableScript()
    end
end)


   end,
})

local AlrightTab = Window:CreateTab("Credits", nil) -- Title, Image

local Paragraph = AlrightTab:CreateParagraph({Title = "Credits", Content = "All credits go to myself nebula no help in this script only some toggles from lualegend but yeah all credits to me @Nebula"})
